{% extends 'base_admin.html' %}
{% load static %}

{% block title %}Gestión de Usuarios{% endblock %}

{% block content %}
<div class="container-fluid px-4">
<h2 class="mt-3 mb-4 text-danger fw-bold">
    <i class="fas fa-users me-2"></i>Gestión de Usuarios
</h2>

<div class="card shadow-sm border-0 mb-4">
    <div class="card-body">
    <table class="table table-striped align-middle table-hover">
        <thead class="table-danger text-center">
        <tr>
            <th>ID</th>
            <th>Usuario</th>
            <th>Correo electrónico</th>
            <th>Nombre completo</th>
            <th>Fecha de registro</th>
            <th>Rol</th>
        </tr>
        </thead>
        <tbody>
        {% for u in usuarios %}
        <tr>
            <td>{{ u.id }}</td>
            <td>{{ u.username }}</td>
            <td>{{ u.email }}</td>
            <td>{{ u.get_full_name|default:"—" }}</td>
            <td>{{ u.date_joined|date:"d/m/Y H:i" }}</td>
            <td>
            {% if u.is_superuser %}
                <span class="badge bg-danger">Administrador</span>
            {% elif u.is_staff %}
                <span class="badge bg-primary">Staff</span>
            {% else %}
                <span class="badge bg-secondary">Usuario</span>
            {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="6" class="text-center text-muted py-3">
            No hay usuarios registrados.
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
</div>
</div>
{% endblock %}
