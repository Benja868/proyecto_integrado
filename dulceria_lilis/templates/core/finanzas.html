{% extends 'base_admin.html' %}
{% block content %}
<h2>Finanzas</h2>
<div class="row">
<div class="col-md-5">
    <div class="card p-3">
    <h5>Registrar movimiento</h5>
    <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}
        <div class="mb-2">{{ form.descripcion.label_tag }} {{ form.descripcion }}</div>
        <div class="mb-2">{{ form.ingreso.label_tag }} {{ form.ingreso }}</div>
        <div class="mb-2">{{ form.gasto.label_tag }} {{ form.gasto }}</div>
        <button class="btn btn-primary">Guardar</button>
    </form>
    </div>
</div>

<div class="col-md-7">
    <h5>Registros</h5>
    <p><strong>Ingresos:</strong> ${{ total_ingresos }} — <strong>Gastos:</strong> ${{ total_gastos }} — <strong>Balance:</strong> ${{ balance }}</p>
    <table class="table">
    <thead><tr><th>Descripción</th><th>Ingreso</th><th>Gasto</th><th>Fecha</th></tr></thead>
    <tbody>
        {% for r in registros %}
        <tr><td>{{ r.descripcion }}</td><td>${{ r.ingreso }}</td><td>${{ r.gasto }}</td><td>{{ r.fecha }}</td></tr>
        {% empty %}
        <tr><td colspan="4">No hay registros</td></tr>
        {% endfor %}
    </tbody>
    </table>
</div>
</div>
{% endblock %}
